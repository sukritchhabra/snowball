!function(n){function t(t){var o,e=t.find(".table").get(0),l=t.find("[data-target='map-type']").val();if(o="usa"===l?t.find("[data-target='json-usa']").val():t.find("[data-target='json-world']").val()){var i=JSON.parse(o);a(t,e,i,l)}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+l+".json";n.getJSON(r,function(n){a(t,e,n,l)})}}function o(t,o){var a,e,l=(t.find(".table").get(0),t.data("hot"));if("usa"===o?(e=t.find("[data-target='json-usa']").val(),a=["fips","State","Value"]):(e=t.find("[data-target='json-world']").val(),a=["fips","Country","Value"]),e){var i=JSON.parse(e);l.updateSettings({colHeaders:a}),l.loadData(i),l.render()}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+o+".json";n.getJSON(r,function(n){l.updateSettings({colHeaders:a}),l.loadData(n),l.render()})}}function a(n,t,o,a){var l=["fips","Country","Value"];"usa"===a&&(l=["fips","State","Value"]);var i=new Handsontable(t,{data:o,rowHeaders:!1,fixedRowsTop:0,colHeaders:l,columns:[{data:"fips",readOnly:!0},{data:"State",readOnly:!0},{data:"Value"}],columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(t,o){var a=this.getData();e(n,a),"loadData"!==o&&n.trigger("render")},afterLoadData:function(){var t=this.getData();e(n,t)},afterInit:function(){n.trigger("render")}});n.data("hot",i)}function e(n,t,o){var a=t,e=JSON.stringify(a),l=n.find("[data-target='map-type']").val();n.find("[data-target='json-"+l+"']").val(e)}n("#snowball-main").on("open",".snowball-block-choropleth",function(){var o=n(this),a=o.find("[data-target='quantize']").val();n(this).find(".quantize-output").text(a),t(o)}),n("#snowball-main").on("rendered",".snowball-block-choropleth",function(){var t=n(this),o=t.find(".snowball-preview"),a=o.contents().find(".map"),e=o[0].contentWindow.drawMap;a&&e&&e(o.contents().find(".snowball-block-choropleth"))}),n("#snowball-main").on("change",".snowball-block-choropleth [data-target='map-type']",function(){var t=n(this).closest(".snowball-block-choropleth"),a=n(this).val();o(t,a)}),n("#snowball-main").on("input change",".snowball-block-choropleth [data-target='quantize']",function(){var t=n(this).closest(".snowball-block-choropleth"),o=(t.data("hot"),n(this).val());t.find(".quantize-output").text(o)})}(jQuery),function(n){function t(n){var t=/google.com\/maps\/.*@(-?\d+.\d+),(-?\d+.\d+),(\d+)([mz])/,a=t.exec(n);if(null!==a){var e=a[3],l=a[4],i="600x400";return"m"===l?(l="satellite",e=o(e)):l="roadmap",{lat:a[1],lon:a[2],maptype:l,zoom:e,size:i}}}function o(n){var t=56819712,o=t/parseInt(n,10);return o=Math.round(1+Math.log(o)/Math.LN2)}n("#snowball-main").on("open",".snowball-block-googlemaps",function(){var t=n(this).find(".zoom").val();n(this).find(".zoom-output").text(t)}),n("#snowball-main").on("change keyup",".snowball-block-googlemaps .map-user",function(){var o=n(this).closest(".snowball-block-googlemaps"),a=n(this).val(),e=t(a);o.find("[data-target='lat']").val(e.lat),o.find("[data-target='lon']").val(e.lon),o.find("[data-target='zoom']").val(e.zoom),o.find(".zoom-output").text(e.zoom),o.find("[data-target='maptype'][value='"+e.maptype+"']").prop("checked",!0),o.trigger("render")}),n("#snowball-main").on("input change",".snowball-block-googlemaps .zoom",function(){var t=n(this).closest(".snowball-block-googlemaps"),o=n(this).val();t.find(".zoom-output").text(o)})}(jQuery),function(n){n("#snowball-main").on("open",".snowball-block-html",function(){var t=n(this),o=t.find("textarea"),a=CodeMirror.fromTextArea(o[0],{mode:"htmlmixed",lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,theme:"monokai"});a.setSize("100%","100%"),a.on("change",function(){a.save(),o.trigger("change")})})}(jQuery),function(n){n("#snowball-main").on("open",".snowball-block-image",function(){var t=n(this).find(".img-border-radius").val()+"%";n(this).find(".img-border-radius-output").text(t)}),n(document).ready(function(){var t;n("#snowball-main").on("click",".snowball-block-image .upload-image-button",function(){var o=n(this).closest(".snowball-block");return t=n(".snowball-block").index(o),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(o){var a=n(".snowball-block").eq(t);imgurl=n("img",o).attr("src"),a.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1}),n("#snowball-main").on("input change",".snowball-block-image .img-border-radius",function(){var t=n(this).closest(".snowball-block-image"),o=n(this).val()+"%";t.find(".img-border-radius-output").text(o),t.trigger("render")})})}(jQuery),function(n){function t(t){var a=t.find(".table").get(0),e=t.find("[data-target='json']").val();if(e){var l=JSON.parse(e);o(t,a,l)}else{var i=snowball.pluginsUrl+"/modules/scatterplot/snowline.json";n.getJSON(i,function(n){o(t,a,n)})}}function o(n,t,o){var e=["Label","X","Y"],l=[{data:"Label",type:"text"},{data:"X",type:"numeric"},{data:"Y",type:"numeric"}],i=new Handsontable(t,{data:o,rowHeaders:!1,fixedRowsTop:0,colHeaders:e,columns:l,columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(t,o){var e=this.getData();a(n,e),"loadData"!==o&&n.trigger("render")},afterLoadData:function(){var t=this.getData();a(n,t)},afterInit:function(){n.trigger("render")}});n.data("hot",i)}function a(n,t,o){var a=t,e=JSON.stringify(a);n.find("[data-target='json']").val(e)}n("#snowball-main").on("open",".snowball-block-scatterplot",function(){var o=n(this),a=n(this).find(".size").val()+"px";n(this).find(".size-output").text(a),t(o)}),n("#snowball-main").on("input change",".snowball-block-scatterplot .size",function(){var t=n(this).closest(".snowball-block-scatterplot"),o=n(this).val()+"px";t.find(".size-output").text(o),t.trigger("render")}),n("#snowball-main").on("rendered",".snowball-block-scatterplot",function(){var t=n(this),o=t.find(".snowball-preview"),a=o.contents().find(".chart"),e=o[0].contentWindow.drawScatterplot;a&&e&&e(o.contents().find(".snowball-block-scatterplot"))})}(jQuery),function(n){function t(n){var t;if(n&&n.indexOf("api.soundcloud.com/tracks")>=0){t=/api.soundcloud.com\/tracks\/(\d+&)/;var o=t.exec(n);if(o[1])return o[1]}return""}function o(n,t){var o="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/";o=o+n+"&show_reposts=false&auto_play=false";for(var a in t)t.hasOwnProperty(a)&&(o=o+"&"+a+"="+t[a]);return o}n("#snowball-main").on("open",".snowball-block-soundcloud",function(){var a=n(this).closest(".snowball-block-soundcloud"),e=n(a).find("input[data-target=embed-link]").val(),l=(n(a).find(".snowball-preview").contents().find(".embed-iframe"),n(a).find("input[data-target=show-user]").prop("checked")),i=n(a).find("input[data-target=show-comments]").prop("checked"),r=n(a).find("input[data-target=visual]").prop("checked"),s={show_user:l,show_comments:i,visual:r},d=t(e),c=o(d,s);n(a).find(".track-url").val(c),a.trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-soundcloud",function(){var a=n(this).closest(".snowball-block-soundcloud"),e=n(a).find("input[data-target=embed-link]").val(),l=(n(a).find(".snowball-preview").contents().find(".embed-iframe"),n(a).find("input[data-target=show-user]").prop("checked")),i=n(a).find("input[data-target=show-comments]").prop("checked"),r=n(a).find("input[data-target=visual]").prop("checked"),s={show_user:l,show_comments:i,visual:r},d=t(e),c=o(d,s);n(a).find(".track-url").val(c),a.trigger("render")})}(jQuery),function(n){var t=0;n("#snowball-main").on("open",".snowball-block-splash",function(){var o=n(this).find("textarea"),a="snowball-block-splash-textarea-"+t;o.attr("id",a),t++,quicktags({id:a,buttons:"strong,em,link,blockquote,del,code,close"}),QTags._buttonsInit()}),n("#snowball-main").on("click",".snowball-block-splash .quicktags-toolbar .button",function(){n(this).closest(".snowball-block").trigger("render")}),n(document).ready(function(){var t;n("#snowball-main").on("click",".snowball-block-splash .upload-image-button",function(){var o=n(this).closest(".snowball-block");return t=n(".snowball-block").index(o),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(o){var a=n(".snowball-block").eq(t);imgurl=n("img",o).attr("src"),a.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1})})}(jQuery),function(n){function t(n,t){var a=JSON.stringify(t);n.find("[data-target='JSON']").val(a),n.find("[data-target='HTML']").val(o(t)),n.trigger("render")}function o(n){for(var t="  <table>\n",o=n.length,a=0;o>a;a++){0===a?t+="    <thead>\n":1===a&&(t+="    </thead>\n    <tbody>\n"),t+="      <tr>\n";for(var e=0;e<n[a].length;e++)null===n[a][e]&&(n[a][e]=""),t=0===a?t+"        <th>"+n[a][e]+"</th>\n":t+"        <td>"+n[a][e]+"</td>\n";t+="      </tr>\n"}return t+="    </tbody>\n  </table>"}n("#snowball-main").on("open",".snowball-block-table",function(){{var o=n(this),a=o.find(".table").get(0),e=JSON.parse(o.find("[data-target='JSON']").val());new Handsontable(a,{data:e,rowHeaders:!1,fixedRowsTop:1,colHeaders:!0,columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(n){t(o,e)},afterCreateRow:function(n){t(o,e)},afterCreateCol:function(n){t(o,e)},afterRemoveRow:function(n){t(o,e)},afterRemoveCol:function(n){t(o,e)}})}})}(jQuery),function(n){var t=0;QTags.addButton("eg_hr","hr","<hr />","","h","Horizontal rule line",70),n("#snowball-main").on("open",".snowball-block-text",function(){var o=n(this).find("textarea"),a="snowball-block-text-textarea-"+t;o.attr("id",a),t++,quicktags({id:a,buttons:"strong,em,link,blockquote,del,code,ul,ol,li,code,close"}),QTags._buttonsInit()}),n("#snowball-main").on("click",".snowball-block-text .quicktags-toolbar .button",function(){n(this).closest(".snowball-block").trigger("render")})}(jQuery),function(n){function t(n){var t;t=n.indexOf("video")>=0?/vimeo.com.*video\/(\S*)"/:/vimeo.com\/(.*)/;var o=t.exec(n);return o[1]}n("#snowball-main").on("open",".snowball-block-vimeo",function(){var o=n(this).find(".video-url").val(),a=t(o);n(this).find(".video-id").val(a),n(this).trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-vimeo .video-url",function(){var o=n(this).closest(".snowball-block-vimeo"),a=n(this).val(),e=t(a);o.find(".video-id").val(e),o.trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-vimeo [data-target='control-color-input']",function(){var t=(n(this).closest(".snowball-block-vimeo"),n(this).val()),o="&color="+t.substring(1);n("[data-target='control-color-output']").val(o)})}(jQuery),function(n){function t(n){var t;t=n.indexOf("embed")>=0?/vine.co\/v\/(.*)\/embed/:/vine.co\/v\/(.*)/;var o=t.exec(n);return o[1]}n("#snowball-main").on("open",".snowball-block-vine",function(){var o=n(this).find(".video-url").val(),a=t(o);n(this).find(".video-id").val(a),n(this).trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-vine .video-url",function(){var o=n(this).closest(".snowball-block-vine"),a=n(this).val(),e=t(a);o.find(".video-id").val(e),o.trigger("render")})}(jQuery),function(n){function t(n){var t;t=n.indexOf("embed")>=0?/youtube.com.*embed\/(\S*)"/:/youtube.com.*v=(.*)/;var o=t.exec(n);return o[1]}n("#snowball-main").on("open",".snowball-block-youtube",function(){var o=n(this).find(".video-url").val(),a=t(o);n(this).find(".video-id").val(a),n(this).trigger("render")}),n("#snowball-main").on("change keyup",".snowball-block-youtube .video-url",function(){var o=n(this).closest(".snowball-block-youtube"),a=n(this).val(),e=t(a);o.find(".video-id").val(e),o.trigger("render")})}(jQuery);
//# sourceMappingURL=admins.min.js.map